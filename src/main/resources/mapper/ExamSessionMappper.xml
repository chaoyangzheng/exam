<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.exam.dao.ExamSessionDao">
    <select id="selectAll" resultType="ExamSession">
        SELECT
        t_exam_session.id,
        t_exam_session.exam_name,
        t_exam_session.subject_id,
        t_exam_session.teacher_id,
        t_exam_session.room_id,
        t_exam_session.student_num,
        t_exam_session.begin_time,
        t_exam_session.end_time,
        t_exam_session.during_time
        FROM
        t_exam_session
    </select>

    <select id="selectById" parameterType="String" resultType="ExamSession">
        SELECT
        t_exam_session.id,
        t_exam_session.exam_name,
        t_exam_session.subject_id,
        t_exam_session.teacher_id,
        t_exam_session.room_id,
        t_exam_session.student_num,
        t_exam_session.begin_time,
        t_exam_session.end_time,
        t_exam_session.during_time
        FROM
        t_exam_session
        WHERE
        t_exam_session.id = #{id}
    </select>

    <update id="updateExamSession" parameterType="ExamSession">
        UPDATE
        `exam`.`t_exam_session`
        SET
        `exam_name` = #{examName},
        `subject_id` = #{subjectId},
        `teacher_id` = #{teacherId},
        `room_id` = #{roomId},
        `student_num` = #{stedentNum},
        `begin_time` = #{beginTime},
        `end_time` = #{endTime},
        `during_time` = #{duringTime}
        WHERE
        `id` = #{id}
    </update>

    <insert id="insertExamSession" parameterType="ExamSession">
        INSERT INTO
        `exam`.`t_exam_session`
        (`id`,
        `exam_name`,
        `subject_id`,
        `teacher_id`,
        `room_id`,
        `student_num`,
        `begin_time`,
        `end_time`,
        `during_time`)
        VALUES
        (#{id},
        #{examName},
        #{subjectId},
        #{teacherId},
        #{roomId},
        #{stedentNum},
        #{beginTime},
        #{endTime},
        #{duringTime})
    </insert>

</mapper>