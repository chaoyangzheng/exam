<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>layui</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="layui/css/layui.css" media="all">
		<!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
	</head>

	<body>
		
		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
			<legend>考生角色信息</legend>
		</fieldset>

		<div id="test9" class="demo-tree demo-tree-box" style="width: auto; height: auto; overflow: scroll;"></div>
		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
			<legend>教师角色信息</legend>
		</fieldset>

		<div id="test10" class="demo-tree demo-tree-box" style="width: auto; height: auto; overflow: scroll;"></div>
		<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
			<legend>管理员角色信息</legend>
		</fieldset>

		<div id="test11" class="demo-tree demo-tree-box" style="width: auto; height: auto; overflow: scroll;"></div>

		<script src="layui/layui.js"></script>
		<script>
			layui.use(['tree', 'util', 'table', 'form', 'layedit', 'laydate', 'element', 'jquery'], function() {
				var tree = layui.tree,
					layer = layui.layer,
					util = layui.util,
					table = layui.table,
					form = layui.form,
					element = layui.element,
					$ = layui.jquery

				$.ajax({
					url: "http://localhost:8080/exam/system/permManagement/findAllRolePerm.do",
					type: "post",
					success: function(data) {
						form.render();
					}
				})
					,
					data1 = [  
					{
						title: '考试管理',
						id: 10,
						desc:"都有权限",
						url:"",
						children: 
						[{
							title: '开始考试',
							id: 17,
							desc:"考试管理下的参加考试,只有考生有权限",
							url:"http://localhost:8080/exam/joinExamSession.html"
						},
						{
							title: '报名考试',
							id: 18,
							desc:"考试管理下的报名考试，只有考生有权限",
							url:"http://localhost:8080/exam/enrolment.html"
						}]
					
					}, 
					{
						title: '考生信息管理',
						id: 12,
						desc:"管理员和老师有权限",
						url:"",
						children: 
						[{
							title: '考生信息查看编辑',
							id: 19,
							desc:"管理员和老师有权限",
							url:"http://localhost:8080/exam/examnieeInfo.html"
						}]

					}, 
					{
						title: '统计管理',
						id: 16,
						desc:"管理员和老师有权限",
						children: 
						[{
							title: '成绩统计管理',
							id: 20,
							desc:"都可以",
							url:"http://localhost:8080/exam/count.html"
						}]
					
					}]
					,
					data2 = [ 
					{
						title: '试题管理',
						id: 6,
						desc:"管理员和老师有权限",
						children: 
						[ 
						{
							title: '试题导入',
							id: 8,
							desc:"试题管理下的试题试题导入，管理员和老师有权限。’选择是在线导入试题还是文件导入试题，然后进入相应的页面进行试题上传’",
							url:"http://localhost:8080/exam/upload.html"

						}]
					}, 
					{
						title: '考试管理',
						id: 10,
						desc:"都有权限",
						children: 
						[{
							title: '考试场次管理',
							id: 11,
							desc:"考试管理下的考试场次管理，管理员和老师有权限。''",
							url:"http://localhost:8080/exam/examSessionList.html"
						}]
					
					}, 
					{
						title: '考生信息管理',
						id: 12,
						desc:"管理员和老师有权限",
						url:"",
						children: 
						[{
							title: '考生信息查看编辑',
							id: 19,
							desc:"管理员和老师有权限",
							url:"http://localhost:8080/exam/examnieeInfo.html"
						}]

					}, 
					{
						title: '成绩管理',
						id: 13,
						desc:"都有权限",
						children: 
						[{
							title: '考生成绩查询',
							id: 14,
							desc:"成绩管理下的考生成绩查询,管理员和老师有权限,(已结算成绩的考生成绩，未结算成绩的考生成绩)，按学号；姓名；科目；试卷id查询成绩",
							url:"http://localhost:8080/exam/query_score.html"
						},{
							title: '简答题批改',
							id: 15,
							desc:"成绩管理下的简答题批改，管理员和老师有权限(查询所有未改分的简答题；教师批改简答题的分时)",
							url:"http://localhost:8080/exam/paper.html"
						}]
					
					},
					{
						title: '统计管理',
						id: 16,
						desc:"管理员和老师有权限",
						children: 
						[{
							title: '成绩统计管理',
							id: 20,
							desc:"都可以",
							url:"http://localhost:8080/exam/count.html"
						}]
					
					}]
					,
					data3 = [{
						title: '系统管理',
						id: 1,
						desc:"管理员对系统的管理",
						children: 
						[{
							title: '用户管理',
							id: 2,
							desc:"系统管理下的用户管理，只有管理员有权限",
							url:"http://localhost:8080/exam/usermanager.html"
						}, 
						{
							title: '角色管理',
							id: 3,
							desc:"系统管理下的角色管理,只有管理员有权限",
							url:"http://localhost:8080/exam/rolemanager.html"
						}, 
						{
							title: '权限管理',
							id: 4,
							desc:"系统管理下的权限管理,只有管理员有权限",
							url:"http://localhost:8080/exam/permmanager.html"
						}]
					}, 
					{
						title: '试题管理',
						id: 6,
						desc:"管理员对系统的管理",
						children: 
						[{
							title: '试题分类管理',
							id: 7,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"
						}, 
						{
							title: '试题导入',
							id: 8,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"

						}]
					}, 
					{
						title: '考试管理',
						id: 10,
						desc:"管理员对系统的管理",
						children: 
						[{
							title: '考试场次管理',
							id: 11,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"
						}]
					
					}, 
					{
						title: '考生信息管理',
						id: 12,
						desc:"管理员对系统的管理",
						url:"http://localhost:8080/exam/",
						children: 
						[{
							title: '考生信息查看编辑',
							id: 19,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"
						}]

					}, 
					{
						title: '成绩管理',
						id: 13,
						desc:"管理员对系统的管理",
						children: 
						[{
							title: '考生成绩查询',
							id: 14,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"
						},{
							title: '简答题批改',
							id: 15,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"
						}]
					
					},
					{
						title: '统计管理',
						id: 16,
						desc:"管理员对系统的管理",
						children: 
						[{
							title: '成绩统计管理',
							id: 20,
							desc:"管理员对系统的管理",
							url:"http://localhost:8080/exam/"
						}]
					
					}]


				//开启节点操作图标
				tree.render({
					elem: '#test9',
					data: data1,
					edit: ['add', 'update', 'del'] //操作节点的图标
						,
					click: function(obj) {
						layer.msg(JSON.stringify(obj.data));
					}
				});
				tree.render({
					elem: '#test10',
					data: data2,
					edit: ['add', 'update', 'del'] //操作节点的图标
						,
					click: function(obj) {
						layer.msg(JSON.stringify(obj.data));
					}
				});
				tree.render({
					elem: '#test11',
					data: data3,
					edit: ['add', 'update', 'del'] //操作节点的图标
						,
					click: function(obj) {
						layer.msg(JSON.stringify(obj.data));
					}
				});
			});
		</script>

	</body>

</html>